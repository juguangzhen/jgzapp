(function(c,g,b){function a(d,h){h=h||{};g.forEach(h,function(k,j){delete h[j]});for(var i in d){!d.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(h[i]=d[i])}return h}var f=g.$$minErr("$resource"),e=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;g.module("ngResource",["ng"]).provider("$resource",function(){var d=/^https?:\/\/[^\/]*/,h=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}};this.$get=["$http","$log","$q","$timeout",function(i,m,s,r){function k(u,q){return encodeURIComponent(u).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,q?"%20":"+")}function j(u,q){this.template=u;this.defaults=t({},h.defaults,q);this.urlParams={}}function o(z,x,B,u){function A(D,C){var E={};C=t({},x,C);w(C,function(G,J){p(G)&&(G=G());var L;if(G&&G.charAt&&"@"==G.charAt(0)){L=D;var H=G.substr(1);if(null==H||""===H||"hasOwnProperty"===H||!e.test("."+H)){throw f("badmember",H)}for(var H=H.split("."),F=0,I=H.length;F<I&&g.isDefined(L);F++){var K=H[F];L=null!==L?L[K]:b}}else{L=G}E[J]=L});return E}function y(C){return C.resource}function q(C){a(C||{},this)}var v=new j(z,u);B=t({},h.defaults.actions,B);q.prototype.toJSON=function(){var C=t({},this);delete C.$promise;delete C.$resolved;return C};w(B,function(D,C){var F=/^(POST|PUT|PATCH)$/i.test(D.method),H=D.timeout,G=g.isDefined(D.cancellable)?D.cancellable:u&&g.isDefined(u.cancellable)?u.cancellable:h.defaults.cancellable;H&&!g.isNumber(H)&&(m.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete D.timeout,H=null);q[C]=function(R,O,P,Q){var I={},N,T,J;switch(arguments.length){case 4:J=Q,T=P;case 3:case 2:if(p(O)){if(p(R)){T=R;J=O;break}T=O;J=P}else{I=R;N=O;T=P;break}case 1:p(R)?T=R:F?N=R:I=R;break;case 0:break;default:throw f("badargs",arguments.length)}var E=this instanceof q,L=E?N:D.isArray?[]:new q(N),V={},M=D.interceptor&&D.interceptor.response||y,K=D.interceptor&&D.interceptor.responseError||b,S,U;w(D,function(X,W){switch(W){default:V[W]=l(X);case"params":case"isArray":case"interceptor":case"cancellable":}});!E&&G&&(S=s.defer(),V.timeout=S.promise,H&&(U=r(S.resolve,H)));F&&(V.data=N);v.setUrlParams(V,t({},A(N,D.params||{}),I),D.url);I=i(V).then(function(X){var Y=X.data;if(Y){if(g.isArray(Y)!==!!D.isArray){throw f("badcfg",C,D.isArray?"array":"object",g.isArray(Y)?"array":"object",V.method,V.url)}if(D.isArray){L.length=0,w(Y,function(Z){"object"===typeof Z?L.push(new q(Z)):L.push(Z)})}else{var W=L.$promise;a(Y,L);L.$promise=W}}X.resource=L;return X},function(W){(J||n)(W);return s.reject(W)});I["finally"](function(){L.$resolved=!0;!E&&G&&(L.$cancelRequest=g.noop,r.cancel(U),S=U=V.timeout=null)});I=I.then(function(W){var X=M(W);(T||n)(X,W.headers);return X},K);return E?I:(L.$promise=I,L.$resolved=!1,G&&(L.$cancelRequest=S.resolve),L)};q.prototype["$"+C]=function(E,J,I){p(E)&&(I=J,J=E,E={});E=q[C].call(this,E,this,J,I);return E.$promise||E}});q.bind=function(C){return o(z,t({},x,C),B)};return q}var n=g.noop,w=g.forEach,t=g.extend,l=g.copy,p=g.isFunction;j.prototype={setUrlParams:function(B,z,v){var y=this,C=v||y.template,A,x,u="",D=y.urlParams={};w(C.split(/\W/),function(q){if("hasOwnProperty"===q){throw f("badname")}!/^\d+$/.test(q)&&q&&(new RegExp("(^|[^\\\\]):"+q+"(\\W|$)")).test(C)&&(D[q]={isQueryParamValue:(new RegExp("\\?.*=:"+q+"(?:\\W|$)")).test(C)})});C=C.replace(/\\:/g,":");C=C.replace(d,function(q){u=q;return""});z=z||{};w(y.urlParams,function(q,E){A=z.hasOwnProperty(E)?z[E]:y.defaults[E];g.isDefined(A)&&null!==A?(x=q.isQueryParamValue?k(A,!0):k(A,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),C=C.replace(new RegExp(":"+E+"(\\W|$)","g"),function(G,F){return x+F})):C=C.replace(new RegExp("(/?):"+E+"(\\W|$)","g"),function(G,F,H){return"/"==H.charAt(0)?H:F+H})});y.defaults.stripTrailingSlashes&&(C=C.replace(/\/+$/,"")||"/");C=C.replace(/\/\.(?=\w+($|\?))/,".");B.url=u+C.replace(/\/\\\./,"/.");w(z,function(q,E){y.urlParams[E]||(B.params=B.params||{},B.params[E]=q)})}};return o}]})})(window,window.angular);